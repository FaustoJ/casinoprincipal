<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contacto - [Nombre de tu Negocio]</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="container">
            <a href="index.html" class="logo-link">
                <img src="images/logo.png" alt="Logo de [Nombre de tu Negocio]" id="logo">
                </a>
            <nav>
                <ul>
                    <li><a href="index.html">Principal</a></li>
                    <li><a href="nosotros.html">Saber más de nosotros</a></li>
                    <li><a href="galeria.html">Galería</a></li>
                    <li><a href="precios.html">Precios</a></li>
                    <li><a href="contacto.html">Contacto</a></li>
                    <li><a href="ubicacion.html">Ubicación</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <section class="pagina-contenido">
            <div class="container">
                <h2>Contacta con Nosotros</h2>
                <p>¿Tienes alguna pregunta o quieres solicitar un presupuesto? Rellena el formulario o y nos pondremos en contacto contigo lo antes posible.</p>
                
                <form id="contact-form" action="https://formspree.io/f/mblobgng" method="POST">
                    <div class="form-group">
                        <label for="nombre">Nombre:</label>
                        <input type="text" id="nombre" name="nombre" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Correo Electrónico:</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="telefono">Número de Teléfono (Opcional):</label>
                        <input type="tel" id="telefono" name="telefono">
                    </div>
                    <div class="form-group">
                        <label for="descripcion">Descripción del evento o solicitud:</label>
                        <textarea id="descripcion" name="descripcion" rows="6" maxlength="1000" required></textarea>
                        <small><span id="char-count">0</span>/1000 caracteres</small>
                    </div>
                    <button type="submit" class="btn">Enviar Solicitud</button>
                </form>
                <p id="form-status"></p>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; <span id="year"></span> [Nombre de tu Negocio]. Todos los derechos reservados.</p>
            <p>Plaza del Jardín 5, La Almunia de Doña Godina</p>
        </div>
    </footer>
    <script>
        document.getElementById('year').textContent = new Date().getFullYear();

        // Contador de caracteres para el textarea
        const textarea = document.getElementById('descripcion');
        const charCountSpan = document.getElementById('char-count');
        if (textarea) {
            textarea.addEventListener('input', function() {
                charCountSpan.textContent = this.value.length;
            });
        }

        // Manejo del envío del formulario Formspree (opcional, para feedback al usuario)
        var form = document.getElementById("contact-form");
        if (form) {
            async function handleSubmit(event) {
                event.preventDefault();
                var status = document.getElementById("form-status");
                var data = new FormData(event.target);
                fetch(event.target.action, {
                    method: form.method,
                    body: data,
                    headers: {
                        'Accept': 'application/json'
                    }
                }).then(response => {
                    if (response.ok) {
                        status.innerHTML = "¡Gracias por tu mensaje! Nos pondremos en contacto contigo pronto.";
                        status.className = 'success';
                        form.reset();
                        charCountSpan.textContent = 0; // Resetear contador
                    } else {
                        response.json().then(data => {
                            if (Object.hasOwn(data, 'errors')) {
                                status.innerHTML = data["errors"].map(error => error["message"]).join(", ");
                            } else {
                                status.innerHTML = "Oops! Hubo un problema al enviar tu formulario. Inténtalo de nuevo más tarde.";
                            }
                            status.className = 'error';
                        })
                    }
                }).catch(error => {
                    status.innerHTML = "Oops! Hubo un problema al enviar tu formulario. Inténtalo de nuevo más tarde.";
                    status.className = 'error';
                });
            }
            form.addEventListener("submit", handleSubmit)
        }
    </script>
</body>
</html>